import{_ as h,u as _,r as d,o as m,c as u,a as e,w as g,b as r,v as n,n as i,t as x,d as w,e as p}from"./index-c3548e4f.js";const v={data(){return{user:{email:"",first_name:"",last_name:"",password:""},showSuccessModal:!1,errors:{},isLoading:!1}},methods:{async signUp(){this.isLoading=!0,this.errors={},this.axios.post(this.apiUrl+"users/sign-up/",this.user).then(l=>{_().setUser(l.data),this.axios.defaults.headers.common.Authorization=`Bearer ${l.data.token}`,this.showSuccessModal=!0}).catch(l=>{l.response.data.detail[0].loc?l.response.data.detail.forEach(s=>{this.errors[s.loc[1]]=s.msg.charAt(0).toUpperCase()+s.msg.slice(1)}):this.errors.auth=l.response.data.detail}).finally(()=>{this.isLoading=!1})},closed(){this.showSuccessModal=!1,this.$router.push("/")}}},y={class:"flex min-h-full flex-col justify-center sm:px-6 lg:px-8"},b={class:"sm:mx-auto sm:w-full sm:max-w-md"},S=e("h1",{class:"text-3xl font-bold tracking-tight mb-10"},"Sign Up",-1),U={class:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10"},C=e("label",{for:"first_name",class:"block text-sm font-medium text-gray-700"},"First name",-1),k={class:"mt-1"},M=e("label",{for:"last_name",class:"block text-sm font-medium text-gray-700"},"Last name",-1),V={class:"mt-1"},B=e("label",{for:"email",class:"block text-sm font-medium text-gray-700"},"Email address",-1),L={class:"mt-1"},E=e("label",{for:"password",class:"block text-sm font-medium text-gray-700"},"Password",-1),N={class:"mt-1"},z={key:0,class:"text-red-600"};function A(l,s,D,W,t,a){const c=d("ButtonWithSpinner"),f=d("Modal");return m(),u("div",y,[e("div",b,[S,e("div",U,[e("form",{class:"space-y-6",onSubmit:s[8]||(s[8]=g((...o)=>a.signUp&&a.signUp(...o),["prevent"]))},[e("div",null,[C,e("div",k,[r(e("input",{onChange:s[0]||(s[0]=o=>t.errors.first_name=null),id:"first_name","onUpdate:modelValue":s[1]||(s[1]=o=>t.user.first_name=o),name:"first_name",type:"text",class:i("field "+(t.errors.first_name?"field-error":""))},null,34),[[n,t.user.first_name]])])]),e("div",null,[M,e("div",V,[r(e("input",{onChange:s[2]||(s[2]=o=>t.errors.last_name=null),id:"last_name","onUpdate:modelValue":s[3]||(s[3]=o=>t.user.last_name=o),name:"last_name",type:"text",class:i("field "+(t.errors.last_name?"field-error":""))},null,34),[[n,t.user.last_name]])])]),e("div",null,[B,e("div",L,[r(e("input",{onChange:s[4]||(s[4]=o=>t.errors.email=null),id:"email","onUpdate:modelValue":s[5]||(s[5]=o=>t.user.email=o),name:"email",type:"text",autocomplete:"email",class:i("field "+(t.errors.email?"field-error":""))},null,34),[[n,t.user.email]])])]),e("div",null,[E,e("div",N,[r(e("input",{onChange:s[6]||(s[6]=o=>t.errors.password=null),id:"password","onUpdate:modelValue":s[7]||(s[7]=o=>t.user.password=o),name:"password",type:"password",autocomplete:"current-password",class:i("field "+(t.errors.password?"field-error":""))},null,34),[[n,t.user.password]])])]),t.errors.auth?(m(),u("div",z,x(t.errors.auth),1)):w("",!0),e("div",null,[p(c,{loading:t.isLoading,text:"Sign up"},null,8,["loading"])])],32)])]),p(f,{show:t.showSuccessModal,onClosed:a.closed,title:"Registration successfull",text:"Go to onboadring page."},null,8,["show","onClosed"])])}const F=h(v,[["render",A]]);export{F as default};
