import{_ as u,r,o as n,c as a,a as s,w as h,b as p,v as x,n as f,t as _,d as g,e as d}from"./index-c3548e4f.js";const w={data(){return{user:{email:""},errors:{},showSuccessModal:!1,isLoading:!1}},methods:{signIn(){this.isLoading=!0,this.errors={},this.axios.post(this.apiUrl+"users/reset-password/",this.user).then(t=>{this.user.email="",this.showSuccessModal=!0}).catch(t=>{t.response.data.detail[0].loc?t.response.data.detail.forEach(e=>{this.errors[e.loc[1]]=e.msg}):this.errors.user=t.response.data.detail}).finally(()=>{this.isLoading=!1})},closed(){this.showSuccessModal=!1}}},v={class:"mx-auto max-w-7xl px-4 pb-12 sm:px-6 lg:px-8"},y={class:"flex min-h-full flex-col justify-center sm:px-6 lg:px-8"},b={class:"sm:mx-auto sm:w-full sm:max-w-md"},M=s("h1",{class:"text-3xl font-bold tracking-tight mb-10"},"Forgot your password",-1),S={class:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10"},C=s("label",{for:"email",class:"block text-sm font-medium text-gray-700"},"Email address",-1),k={class:"mt-1"},B={key:0,class:"text-red-600"};function V(t,e,L,E,o,i){const c=r("ButtonWithSpinner"),m=r("Modal");return n(),a("div",v,[s("div",y,[s("div",b,[M,s("div",S,[s("form",{class:"space-y-6",onSubmit:e[2]||(e[2]=h((...l)=>i.signIn&&i.signIn(...l),["prevent"]))},[s("div",null,[C,s("div",k,[p(s("input",{onChange:e[0]||(e[0]=l=>o.errors.email=null),id:"email","onUpdate:modelValue":e[1]||(e[1]=l=>o.user.email=l),autocomplete:"email",type:"text",class:f("field "+(o.errors.email?"field-error":""))},null,34),[[x,o.user.email]])])]),o.errors.user?(n(),a("div",B,_(o.errors.user),1)):g("",!0),s("div",null,[d(c,{loading:o.isLoading,text:"Reset"},null,8,["loading"])])],32)])]),d(m,{show:o.showSuccessModal,onClosed:i.closed,title:"We send e-mail with instructions to you"},null,8,["show","onClosed"])])])}const N=u(w,[["render",V]]);export{N as default};
